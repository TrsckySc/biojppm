(function(a){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=a()}else{if(typeof define==="function"&&define.amd){define([],a)}else{var b;if(typeof window!=="undefined"){b=window}else{if(typeof global!=="undefined"){b=global}else{if(typeof self!=="undefined"){b=self}else{b=this}}}b.base64js=a()}}})(function(){var b,c,a;return function b(j,g,l){function k(m,e){if(!g[m]){if(!j[m]){var f=typeof require=="function"&&require;if(!e&&f){return f(m,!0)}if(h){return h(m,!0)}var n=new Error("Cannot find module '"+m+"'");throw n.code="MODULE_NOT_FOUND",n}var o=g[m]={exports:{}};j[m][0].call(o.exports,function(p){var i=j[m][1][p];return k(i?i:p)},o,o.exports,b,j,g,l)}return g[m].exports}var h=typeof require=="function"&&require;for(var d=0;d<l.length;d++){k(l[d])}return k}({"/":[function(g,x,D){D.byteLength=z;D.toByteArray=B;D.fromByteArray=E;var k=[];var j=[];var w=typeof Uint8Array!=="undefined"?Uint8Array:Array;var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var A=0,C=p.length;A<C;++A){k[A]=p[A];j[p.charCodeAt(A)]=A}j["-".charCodeAt(0)]=62;j["_".charCodeAt(0)]=63;function y(d){var f=d.length;if(f%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return d[f-2]==="="?2:d[f-1]==="="?1:0}function z(d){return d.length*3/4-y(d)}function B(o){var s,l,F,h,d;var f=o.length;h=y(o);d=new w(f*3/4-h);l=h>0?f-4:f;var v=0;for(s=0;s<l;s+=4){F=j[o.charCodeAt(s)]<<18|j[o.charCodeAt(s+1)]<<12|j[o.charCodeAt(s+2)]<<6|j[o.charCodeAt(s+3)];d[v++]=F>>16&255;d[v++]=F>>8&255;d[v++]=F&255}if(h===2){F=j[o.charCodeAt(s)]<<2|j[o.charCodeAt(s+1)]>>4;d[v++]=F&255}else{if(h===1){F=j[o.charCodeAt(s)]<<10|j[o.charCodeAt(s+1)]<<4|j[o.charCodeAt(s+2)]>>2;d[v++]=F>>8&255;d[v++]=F&255}}return d}function m(d){return k[d>>18&63]+k[d>>12&63]+k[d>>6&63]+k[d&63]}function q(h,l,d){var u;var s=[];for(var i=l;i<d;i+=3){u=(h[i]<<16)+(h[i+1]<<8)+h[i+2];s.push(m(u))}return s.join("")}function E(h){var v;var I=h.length;var l=I%3;var s="";var n=[];var G=16383;for(var H=0,F=I-l;H<F;H+=G){n.push(q(h,H,H+G>F?F:H+G))}if(l===1){v=h[I-1];s+=k[v>>2];s+=k[v<<4&63];s+="=="}else{if(l===2){v=(h[I-2]<<8)+h[I-1];s+=k[v>>10];s+=k[v>>4&63];s+=k[v<<2&63];s+="="}}n.push(s);return n.join("")}},{}]},{},[])("/")});function SM4_Context(){this.mode=1;this.isPadding=true;this.sk=new Array(32)}function SM4(){this.SM4_ENCRYPT=1;this.SM4_DECRYPT=0;var b=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72];var c=[2746333894,1453994832,1736282519,2993693404];var a=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];this.ROTL1=function(d,e){return d<<e|d>>>(32-e)};this.BYTESUB=function(d){return(b[d>>>24&255]&255)<<24|(b[d>>>16&255]&255)<<16|(b[d>>>8&255]&255)<<8|(b[d&255]&255)};this.L1=function(d){return d^this.ROTL1(d,2)^this.ROTL1(d,10)^this.ROTL1(d,18)^this.ROTL1(d,24)};this.L2=function(d){return d^this.ROTL1(d,13)^this.ROTL1(d,23)};this.sm4_setkey_enc=function(d,e){if(d==null){alert("ctx is null!");return false}if(e==null||e.length!=16){alert("key error!");return false}d.mode=this.SM4_ENCRYPT;this.sm4_setkey(d.sk,e)};this.sm4_setkey=function(k,e){var j,f;var d=new Array(4);var h=new Array(4);for(var g=0;g<4;g++){h[0]=e[0+4*g]&255;h[1]=e[1+4*g]&255;h[2]=e[2+4*g]&255;h[3]=e[3+4*g]&255;d[g]=h[0]<<24|h[1]<<16|h[2]<<8|h[3]}d[0]^=2746333894;d[1]^=1453994832;d[2]^=1736282519;d[3]^=2993693404;for(var j=0;j<32;j+=4){f=d[1]^d[2]^d[3]^a[j+0];f=this.BYTESUB(f);k[j+0]=d[0]^=this.L2(f);f=d[2]^d[3]^d[0]^a[j+1];f=this.BYTESUB(f);k[j+1]=d[1]^=this.L2(f);f=d[3]^d[0]^d[1]^a[j+2];f=this.BYTESUB(f);k[j+2]=d[2]^=this.L2(f);f=d[0]^d[1]^d[2]^a[j+3];f=this.BYTESUB(f);k[j+3]=d[3]^=this.L2(f)}};this.padding=function(d,h){if(d==null){return null}var e=null;if(h==this.SM4_ENCRYPT){var g=parseInt(16-d.length%16);e=d.slice(0);for(var f=0;f<g;f++){e[d.length+f]=0}}else{var g=d[d.length-1];e=d.slice(0,d.length-g)}return e
};this.sm4_one_round=function(p,o,n){var e,s,h,g,f,d;var q=new Array(4);var m=new Array(4);for(var l=0;l<4;l++){m[0]=o[0+4*l]&255;m[1]=o[1+4*l]&255;m[2]=o[2+4*l]&255;m[3]=o[3+4*l]&255;q[l]=m[0]<<24|m[1]<<16|m[2]<<8|m[3]}for(var e=0;e<32;e+=4){s=q[1]^q[2]^q[3]^p[e+0];s=this.BYTESUB(s);q[0]=q[0]^this.L1(s);s=q[2]^q[3]^q[0]^p[e+1];s=this.BYTESUB(s);q[1]=q[1]^this.L1(s);s=q[3]^q[0]^q[1]^p[e+2];s=this.BYTESUB(s);q[2]=q[2]^this.L1(s);s=q[0]^q[1]^q[2]^p[e+3];s=this.BYTESUB(s);q[3]=q[3]^this.L1(s)}for(var k=0;k<16;k+=4){n[k]=(q[3-k/4]>>>24&255);n[k+1]=(q[3-k/4]>>>16&255);n[k+2]=(q[3-k/4]>>>8&255);n[k+3]=(q[3-k/4]&255)}};this.sm4_crypt_ecb=function(d,f){if(f==null){alert("input is null!")}if((d.isPadding)&&(d.mode==this.SM4_ENCRYPT)){f=this.padding(f,this.SM4_ENCRYPT)}var j=0;var k=f.length;var l=new Array();for(;k>0;k-=16){var h=new Array(16);var g=f.slice(j*16,(16*(j+1)));this.sm4_one_round(d.sk,g,h);l=l.concat(h);j++}var e=l;if(d.isPadding&&d.mode==this.SM4_DECRYPT){e=this.padding(e,this.SM4_DECRYPT)}for(var j=0;j<e.length;j++){if(e[j]<0){e[j]=e[j]+256}}return e};this.sm4_crypt_cbc=function(p,f,m){if(f==null||f.length!=16){alert("iv error!")}if(m==null){alert("input is null!")}if(p.isPadding&&p.mode==this.SM4_ENCRYPT){m=this.padding(m,this.SM4_ENCRYPT)}var j=0;var d=m.length;var n=new Array();if(p.mode==this.SM4_ENCRYPT){var g=0;for(;d>0;d-=16){var h=new Array(16);var q=new Array(16);var l=m.slice(g*16,(16*(g+1)));for(j=0;j<16;j++){h[j]=(l[j]^f[j])}this.sm4_one_round(p.sk,h,q);f=q.slice(0,16);n=n.concat(q);g++}}else{var o=[];var g=0;for(;d>0;d-=16){var h=new Array(16);var q=new Array(16);var l=m.slice(g*16,(16*(g+1)));o=l.slice(0,16);sm4_one_round(p.sk,l,h);for(j=0;j<16;j++){q[j]=(h[j]^f[j])}f=o.slice(0,16);n=n.concat(q);g++}}var e=n;if(p.isPadding&&p.mode==this.SM4_DECRYPT){e=this.padding(e,this.SM4_DECRYPT)}for(var j=0;j<e.length;j++){if(e[j]<0){e[j]=e[j]+256}}return e}}function SM4Util(a){this.secretKey=a;this.iv="";this.hexString=false;this.encryptData_ECB=function(g){try{var d=new SM4();var b=new SM4_Context();b.isPadding=true;b.mode=d.SM4_ENCRYPT;var c=HexStr2Bytes(this.secretKey);d.sm4_setkey_enc(b,c);var h=d.sm4_crypt_ecb(b,stringToByte(g));var f=base64js.fromByteArray(h);if(f!=null&&f.trim().length>0){f.replace(/(\s*|\t|\r|\n)/g,"")}return f}catch(i){console.error(i);return null}};stringToByte=function(f){var d=new Array();var b,g;b=f.length;for(var e=0;e<b;e++){g=f.charCodeAt(e);if(g>=65536&&g<=1114111){d.push(((g>>18)&7)|240);d.push(((g>>12)&63)|128);d.push(((g>>6)&63)|128);d.push((g&63)|128)}else{if(g>=2048&&g<=65535){d.push(((g>>12)&15)|224);d.push(((g>>6)&63)|128);d.push((g&63)|128)}else{if(g>=128&&g<=2047){d.push(((g>>6)&31)|192);d.push((g&63)|128)}else{d.push(g&255)}}}}return d};HexStr2Bytes=function(g){var h=0;var b=g.length;if(b%2!=0){return null}b/=2;var f=new Array();for(var d=0;d<b;d++){var e=g.substr(h,2);var c=parseInt(e,16);f.push(c);h+=2}return f};byteToString=function(d){if(typeof d==="string"){return d}var e="",f=d;for(var b=0;b<f.length;b++){var c=f[b].toString(2),j=c.match(/^1+?(?=0)/);if(j&&c.length==8){var g=j[0].length;var h=f[b].toString(2).slice(7-g);for(var k=1;k<g;k++){h+=f[k+b].toString(2).slice(2)}e+=String.fromCharCode(parseInt(h,2));b+=g-1}else{e+=String.fromCharCode(f[b])}}return e}};