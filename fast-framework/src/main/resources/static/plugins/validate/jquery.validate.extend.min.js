/*!
 * Copyright (c) 2020-Now http://www.j2eefast.com All rights reserved.
 * @author J2eeFAST
 * @version 2020-09-30
 */
opt.domReady(function(){jQuery.validator.addMethod("isMobile",function(d,b){var c=d.length;var a=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return this.optional(b)||(c==11&&a.test(d))},"请填写正确的11位手机号");jQuery.validator.addMethod("decimalsValue",function(c,b){var a=/^(?!0+(?:\.0+)?$)(?:[1-9]\d*|0)(?:\.\d{1,2})?$/;return this.optional(b)||(a.test(c))},"金额必须大于0并且只能精确到分");jQuery.validator.addMethod("compareDate",function(c,a,f){var e=$(f).val();var d=new Date(Date.parse(e.replace("-","/")));var b=new Date(Date.parse(c.replace("-","/")));return(d<b)&&(b>new Date())});jQuery.validator.addMethod("isTel",function(e,c){var d=e.length;var b=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(14[0-9]{1})|(17[0-9]{1}))+\d{8})$/;var a=/^\d{3,4}-?\d{7,9}$/;if(/-/.test(e)){return this.optional(c)||a.test(e)}else{return this.optional(c)||(d==11&&b.test(e))}},"请填写正确的座机号码");jQuery.validator.addMethod("isName",function(c,b){var a=/^[\u4e00-\u9fa5]{2,6}$/;return this.optional(b)||(a.test(c))},"姓名只能用汉字,长度2-4位");jQuery.validator.addMethod("isUserName",function(c,a){var b=/^[a-zA-Z0-9]{2,13}$/;return this.optional(a)||(b).test(c)},$.i18n.prop("sys.msg.isUserName"));jQuery.validator.addMethod("isIdentity",function(b,a){var c=/^(\d{15}$|^\d{18}$|^\d{17}(\d|X))$/;return this.optional(a)||(c.test(b))},"请输入正确的15或18位身份证号,末尾为大写X");jQuery.validator.addMethod("isBirth",function(b,a){var c=/^(19|20)\d{2}-(1[0-2]|0?[1-9])-(0?[1-9]|[1-2][0-9]|3[0-1])$/;return this.optional(a)||(c).test(b)},"出生日期格式示例2000-01-01");jQuery.validator.addMethod("isIp",function(b,a){var c=/^(?:(?:2[0-4][0-9]\.)|(?:25[0-5]\.)|(?:1[0-9][0-9]\.)|(?:[1-9][0-9]\.)|(?:[0-9]\.)){3}(?:(?:2[0-4][0-9])|(?:25[0-5])|(?:1[0-9][0-9])|(?:[1-9][0-9])|(?:[0-9]))$/;return this.optional(a)||(c).test(b)},"IP地址格式示例127.0.0.1");jQuery.validator.addMethod("notEqual",function(b,a,c){return b!=c},$.validator.format("输入值不允许为{0}"));jQuery.validator.addMethod("gt",function(b,a,c){return b>c},$.validator.format("输入值必须大于{0}"));jQuery.validator.addMethod("isdiff",function(){var b=$("#pwdOld").val();var a=$("#pwdNew").val();if(b==a){return false}else{return true}});jQuery.validator.addMethod("issame",function(){var b=$("#confirm_password").val();var a=$("#pwdNew").val();if(b==a){return true}else{return false}});$.validator.setDefaults({submitHandler:function(a){a.submit()}});$("#basicInfoForm").validate({errorElement:"span",errorClass:"help-block error-mes",rules:{name:{required:true,isName:true},sex:"required",birth:"required",mobile:{required:true,isPhone:true},email:{required:true,email:true}},messages:{name:{required:"请输入中文姓名",isName:"姓名只能为汉字"},sex:{required:"请输入性别"},birth:{required:"请输入出生年月"},mobile:{required:"请输入手机号",isPhone:"请填写正确的11位手机号"},email:{required:"请输入邮箱",email:"请填写正确的邮箱格式"}},errorPlacement:function(a,b){b.next().remove();b.closest(".gg-formGroup").append(a)},highlight:function(a){$(a).closest(".gg-formGroup").addClass("has-error has-feedback")},success:function(a){var b=a.closest(".gg-formGroup").find("input");b.next().remove();a.closest(".gg-formGroup").removeClass("has-error").addClass("has-feedback has-success");a.remove()},submitHandler:function(a){alert("保存成功!")}});$("#modifyPwd").validate({onfocusout:function(a){$(a).valid()},debug:false,onkeyup:false,rules:{pwdOld:{required:true,minlength:6},pwdNew:{required:true,minlength:6,isdiff:true,},confirm_password:{required:true,minlength:6,issame:true,}},messages:{pwdOld:{required:"必填",minlength:$.validator.format("密码长度要大于6")},pwdNew:{required:"必填",minlength:$.validator.format("密码长度要大于6"),isdiff:"原密码与新密码不能重复",},confirm_password:{required:"必填",minlength:$.validator.format("密码长度要大于6"),issame:"新密码要与确认新密码一致",}},errorElement:"mes",errorClass:"gg-star",errorPlacement:function(a,b){b.closest(".gg-formGroup").append(a)}})});